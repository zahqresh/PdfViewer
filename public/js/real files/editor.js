function renderPDF(n){PDFJS.getDocument(n).then(function(n){var i=document.getElementById("container"),t;for(pdf_pages=n.numPages,t=1;t<=n.numPages;t++)n.getPage(t).then(function(n){var f=n.getViewport(1.5),r=document.createElement("div"),u,e,o;r.setAttribute("id","page-"+(n.pageIndex+1));r.setAttribute("style","position: relative");i.appendChild(r);u=document.createElement("canvas");r.appendChild(u);e=u.getContext("2d");u.height=f.height;u.width=f.width;o={canvasContext:e,viewport:f};n.render(o).then(function(){return n.getTextContent()}).then(function(i){var u=document.createElement("div"),e,s,o;u.setAttribute("class","textLayer");r.appendChild(u);e=new TextLayerBuilder({textLayerDiv:u,pageIndex:n.pageIndex,viewport:f});e.setTextContent(i);e.render();x.push(t);x.length==pdf_pages&&(s=function(){return{beforeAnnotationCreated:function(n){n.uri=window.location.href}}},o=(new annotator.App).include(annotator.ui.main,{element:document.body}).include(annotator.storage.http,{prefix:"https://pdfviewer101.herokuapp.com/api",urls:{create:`/annotations/${file_name}`,search:`/search/${file_name}`}}).include(s),o.start().then(function(){o.annotations.load({uri:window.location.href})}),hideLoader=!0,hideLoader&&$(".loader").hide())})});hideLoader==!1&&$(".loader").show()})}var file_name,pdf_pages,scale_val,hideLoader;let x=[];hideLoader=!1;document.querySelector("#pdf-upload").addEventListener("change",function(n){var t=n.target.files[0],i;if(scale_val=$(this).attr("data-scale"),scale_val=="undefined"&&(scale_val=1.5),t.type!="application/pdf"){console.error(t.name,"is not a pdf file.");$(".container").append(`<div class="alert alert-primary" role="alert">
        ${t.name}, is not a pdf file, Please re-load choose again!
      </div>`);return}console.log(scale_val);file_name=t.name;i=new FileReader;i.onload=function(){var n=new Uint8Array(this.result);url=n;renderPDF(url)};i.readAsArrayBuffer(t)})