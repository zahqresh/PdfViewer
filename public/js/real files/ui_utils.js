function it(n){const i=window.devicePixelRatio||1,r=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.backingStorePixelRatio||1,t=i/r;return{sx:t,sy:t,scaled:t!==1}}function rt(n,t,i=false){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let u=n.offsetTop+n.clientTop,f=n.offsetLeft+n.clientLeft;while(r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||i&&getComputedStyle(r).overflow==="hidden")if(r.dataset._scaleY&&(u/=r.dataset._scaleY,f/=r.dataset._scaleX),u+=r.offsetTop,f+=r.offsetLeft,r=r.offsetParent,!r)return;t&&(t.top!==undefined&&(u+=t.top),t.left!==undefined&&(f+=t.left,r.scrollLeft=f));r.scrollTop=u}function ut(n,t){const u=function(){r||(r=window.requestAnimationFrame(function(){r=null;const u=n.scrollLeft,e=i.lastX;u!==e&&(i.right=u>e);i.lastX=u;const f=n.scrollTop,o=i.lastY;f!==o&&(i.down=f>o);i.lastY=f;t(i)}))},i={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:u};let r=null;return n.addEventListener("scroll",u,!0),i}function ft(n){const t=n.split("&"),i=Object.create(null);for(let n=0,r=t.length;n<r;++n){const r=t[n].split("="),u=r[0].toLowerCase(),f=r.length>1?r[1]:null;i[decodeURIComponent(u)]=decodeURIComponent(f)}return i}function u(n,t){let i=0,r=n.length-1;if(r<0||!t(n[r]))return n.length;if(t(n[i]))return i;while(i<r){const u=i+r>>1,f=n[u];t(f)?r=u:i=u+1}return i}function et(n){if(Math.floor(n)===n)return[n,1];const t=1/n,o=8;if(t>o)return[1,o];if(Math.floor(t)===t)return[1,t];const i=n>1?t:n;let r=0,u=1,f=1,e=1;for(;;){const t=r+f,n=u+e;if(n>o)break;i<=t/n?(f=t,e=n):(r=t,u=n)}return i-r/u<f/e-i?i===n?[r,u]:[u,r]:i===n?[f,e]:[e,f]}function ot(n,t){const i=n%t;return i===0?n:Math.round(n-i+t)}function st({view:i,userUnit:t,rotate:n}){const[e,o,s,h]=i,r=n%180!=0,u=(s-e)/72*t,f=(h-o)/72*t;return{width:r?f:u,height:r?u:f}}function f(n,t,i){if(n<2)return n;let r=t[n].div,u=r.offsetTop+r.clientTop;u>=i&&(r=t[n-1].div,u=r.offsetTop+r.clientTop);for(let i=n-2;i>=0;--i){if(r=t[i].div,r.offsetTop+r.clientTop+r.clientHeight<=u)break;n=i}return n}function ht({scrollEl:i,views:e,r=false,n=false,t=false}){function p(n){const t=n.div,i=t.offsetTop+t.clientTop+t.clientHeight;return i>s}function w(n){const i=n.div,r=i.offsetLeft+i.clientLeft,u=r+i.clientWidth;return t?r<l:u>c}const s=i.scrollTop,a=s+i.clientHeight,c=i.scrollLeft,l=c+i.clientWidth;const o=[],y=e.length;let h=u(e,n?w:p);h>0&&h<y&&!n&&(h=f(h,e,s));let v=n?l:-1;for(let t=h;t<y;t++){const h=e[t],i=h.div,r=i.offsetLeft+i.clientLeft,u=i.offsetTop+i.clientTop,y=i.clientWidth,p=i.clientHeight,w=r+y,f=u+p;if(v===-1)f>=a&&(v=f);else if((n?r:u)>v)break;if(!(f<=s)&&!(u>=a)&&!(w<=c)&&!(r>=l)){const b=Math.max(0,s-u)+Math.max(0,f-a),k=Math.max(0,c-r)+Math.max(0,w-l),d=(p-b)*(y-k)*100/p/y|0;o.push({id:h.id,x:r,y:u,view:h,percent:d})}}const b=o[0],k=o[o.length-1];return r&&o.sort(function(n,t){const i=n.percent-t.percent;return Math.abs(i)>.001?-i:n.id-t.id}),{first:b,last:k,views:o}}function ct(n){n.preventDefault()}function lt(n){let t=0;const i=n.length;while(t<i&&n[t].trim()==="")t++;return n.substring(t,t+5).toLowerCase()==="data:"}function at(n,t="document.pdf"){if(typeof n!="string")return t;if(lt(n))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;const r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,u=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(n);let i=r.exec(u[1])||r.exec(u[2])||r.exec(u[3]);if(i&&(i=i[0],i.includes("%")))try{i=r.exec(decodeURIComponent(i))[0]}catch(f){}return i||t}function e(n){let t=Math.sqrt(n.deltaX*n.deltaX+n.deltaY*n.deltaY);const i=Math.atan2(n.deltaY,n.deltaX);return-.25*Math.PI<i&&i<.75*Math.PI&&(t=-t),t}function vt(n){let t=e(n);const i=30;return n.deltaMode===0?t/=30*i:n.deltaMode===1&&(t/=i),t}function yt(n){return Number.isInteger(n)&&n%90==0}function pt(t){return Number.isInteger(t)&&Object.values(n).includes(t)&&t!==n.UNKNOWN}function wt(n){return Number.isInteger(n)&&Object.values(t).includes(n)&&n!==t.UNKNOWN}function bt(n){return n.width<=n.height}function kt({target:u,name:t,n=0}){return new Promise(function(f){function o(n){u instanceof r?u._off(t,e):u.removeEventListener(t,e);s&&clearTimeout(s);f(n)}if(typeof u!="object"||!(t&&typeof t=="string")||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const e=o.bind(null,i.EVENT);u instanceof r?u._on(t,e):u.addEventListener(t,e);const h=o.bind(null,i.TIMEOUT),s=setTimeout(h,n)})}function o(n,t=null){if(typeof PDFJSDev!="undefined"&&!PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: dispatchDOMEvent");const i=Object.create(null);if(t&&t.length>0){const n=t[0];for(const t in n){const r=n[t];if(t==="source"){if(r===window||r===document)return;continue}i[t]=r}}const r=document.createEvent("CustomEvent");r.initCustomEvent(n,!0,!0,i);document.dispatchEvent(r)}function gt(n,t,i){return Math.min(Math.max(n,t),i)}function ti(n,t){const r=[],u=n.length;let i=0;for(let f=0;f<u;++f)t(n[f])?r.push(n[f]):(n[i]=n[f],++i);for(let t=0;i<u;++t,++i)n[i]=r[t]}function ii(){let n=document,t=n.activeElement||n.querySelector(":focus");while(t&&t.shadowRoot)n=t.shadowRoot,t=n.activeElement||n.querySelector(":focus");return t}function ri(n){const t=Object.values(n).flat(2),i=t.filter(n=>!!n.actions).map(n=>Object.values(n.actions)).flat(2);for(;;){const n=new Uint8Array(64);if(typeof crypto!="undefined")crypto.getRandomValues(n);else for(let t=0,i=n.length;t<i;t++)n[t]=Math.floor(256*Math.random());const t="_"+btoa(Array.from(n).map(n=>String.fromCharCode(n)).join(""));if(i.every(n=>!n.includes(t)))return t}}const s=96/72,h="auto",c=1,l=.1,a=10,v=0,y=1.25,p=40,w=5,b="--loadingBar-end-offset",k={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},d={CANVAS:"canvas",SVG:"svg"},g={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2},n={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2},t={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2},nt=/\bprint\s*\(/;const tt={};return async,getLanguage(),"en-us";const i={EVENT:"event",TIMEOUT:"timeout"};const dt=new Promise(function(n){if(typeof PDFJSDev!="undefined"&&PDFJSDev.test("LIB && TESTING")&&typeof window=="undefined"){setTimeout(n,20);return}window.requestAnimationFrame(n)});class r{constructor(n){this._listeners=Object.create(null);(typeof PDFJSDev=="undefined"||PDFJSDev.test("MOZCENTRAL"))&&(this._isInAutomation=(n&&n.isInAutomation)===!0)}on(n,t){this._on(n,t,{external:!0})}off(n,t){this._off(n,t,{external:!0})}dispatch(n){const i=this._listeners[n];if(!i||i.length===0){if((typeof PDFJSDev=="undefined"||PDFJSDev.test("MOZCENTRAL"))&&this._isInAutomation){const t=Array.prototype.slice.call(arguments,1);o(n,t)}return}const r=Array.prototype.slice.call(arguments,1);let t;i.slice(0).forEach(function({listener:i,external:n}){if(n){t||(t=[]);t.push(i);return}i.apply(null,r)});t&&(t.forEach(function(n){n.apply(null,r)}),t=null);(typeof PDFJSDev=="undefined"||PDFJSDev.test("MOZCENTRAL"))&&this._isInAutomation&&o(n,r)}_on(n,t,i=null){let r=this._listeners[n];r||(this._listeners[n]=r=[]);r.push({listener:t,external:(i&&i.external)===!0})}_off(n,t){const i=this._listeners[n];if(i)for(let n=0,r=i.length;n<r;n++)if(i[n].listener===t){i.splice(n,1);return}}}class ni{constructor(n,{height:t,width:r,units:i}={}){this.visible=!0;this.div=document.querySelector(n+" .progress");this.bar=this.div.parentNode;this.height=t||100;this.width=r||100;this.units=i||"%";this.div.style.height=this.height+this.units;this.percent=0}_updateBar(){if(this._indeterminate){this.div.classList.add("indeterminate");this.div.style.width=this.width+this.units;return}this.div.classList.remove("indeterminate");const n=this.width*this._percent/100;this.div.style.width=n+this.units}get percent(){return this._percent}set percent(n){this._indeterminate=isNaN(n);this._percent=gt(n,0,100);this._updateBar()}setWidth(n){if(n){const i=n.parentNode,t=i.offsetWidth-n.offsetWidth;if(t>0){const n=document.documentElement;n.style.setProperty(b,`${t}px`)}}}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}export{nt as AutoPrintRegExp,s as CSS_UNITS,h as DEFAULT_SCALE_VALUE,c as DEFAULT_SCALE,l as MIN_SCALE,a as MAX_SCALE,v as UNKNOWN_SCALE,y as MAX_AUTO_SCALE,p as SCROLLBAR_PADDING,w as VERTICAL_PADDING,yt as isValidRotation,pt as isValidScrollMode,wt as isValidSpreadMode,bt as isPortraitOrientation,k as PresentationModeState,d as RendererType,g as TextLayerMode,n as ScrollMode,t as SpreadMode,tt as NullL10n,r as EventBus,ni as ProgressBar,ri as generateRandomStringForSandbox,at as getPDFFileNameFromURL,ct as noContextMenuHandler,ft as parseQueryString,f as backtrackBeforeAllVisibleElements,ht as getVisibleElements,ot as roundToDivide,st as getPageSizeInches,et as approximateFraction,it as getOutputScale,rt as scrollIntoView,ut as watchScroll,u as binarySearchFirstItem,e as normalizeWheelEventDirection,vt as normalizeWheelEventDelta,dt as animationStarted,i as WaitOnType,kt as waitOnEventOrTimeout,ti as moveToEndOfArray,ii as getActiveOrFocusedElement}